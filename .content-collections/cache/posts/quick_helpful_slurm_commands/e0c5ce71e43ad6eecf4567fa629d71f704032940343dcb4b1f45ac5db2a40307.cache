"var Component=(()=>{var d=Object.create;var s=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var f=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),w=(t,e)=>{for(var o in e)s(t,o,{get:e[o],enumerable:!0})},l=(t,e,o,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of p(e))!g.call(t,a)&&a!==o&&s(t,a,{get:()=>e[a],enumerable:!(r=m(e,a))||r.enumerable});return t};var y=(t,e,o)=>(o=t!=null?d(b(t)):{},l(e||!t||!t.__esModule?s(o,\"default\",{value:t,enumerable:!0}):o,t)),j=t=>l(s({},\"__esModule\",{value:!0}),t);var c=f((k,i)=>{i.exports=_jsx_runtime});var C={};w(C,{default:()=>u});var n=y(c());function h(t){let e={a:\"a\",code:\"code\",em:\"em\",h2:\"h2\",p:\"p\",pre:\"pre\",...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"In the lab I work in, we have access to a High Performance Computing (HPC) environment that uses the \",(0,n.jsx)(e.a,{href:\"https://slurm.schedmd.com/documentation.html\",children:\"Slurm Workload Manager\"}),\".\"]}),`\n`,(0,n.jsx)(e.p,{children:\"I've been using it for a while now, and I've found a few commands that I use all the time. I thought I'd share them here in case they're useful to anyone else.\"}),`\n`,(0,n.jsx)(e.h2,{children:\"Checking job status\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-bash\",children:`# View all jobs\nsqueue\n# Check the status of just your jobs\nsqueue -u <username>\n# Check the status of jobs with a specific QOS\nsqueue -q <QOS>\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"Cancelling jobs\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-bash\",children:`# Cancel a specific job\nscancel <job_id>\n# Cancel all your jobs\nscancel -u <username>\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"Requesting a node interactively\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-bash\",children:`# Requesting a single node (this will open it up interactively in your terminal)\n# When you exit the terminal, the node will be reallocated\nsalloc --nodes=1 --gpus=8 --qos=<QOS> --mem=2000G --time=72:00:00 --ntasks=1 --cpus-per-task=128\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"Submitting a job\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"What if all of your compute nodes are allocated, or you don't want your job to exit as soon as your terminal connection is closed? In that case, you can use \",(0,n.jsx)(e.code,{children:\"sbatch\"}),\" to submit a job to the queue. It will automatically run as soon as it can allocate the resources.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"This will take slightly more setup. Assume that the job we actually want to run is contained in \",(0,n.jsx)(e.code,{children:\"myjob.sh\"}),\". In order to submit that script as a job, we'll first create a Bash script that will be run by Slurm. Let's call it \",(0,n.jsx)(e.code,{children:\"run.sh\"}),\":\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-bash\",children:`#!/bin/bash\n#SBATCH -J \"JOBNAME\"\n#SBATCH --nodes=1\n#SBATCH --gpus-per-node=8\n#SBATCH --cpus-per-task=128\n#SBATCH --mem=2000G\n#SBATCH --time=72:00:00\n#SBATCH --qos=<QOS>\n\nsrun --nodes=1 myjob.sh\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Note that we're using the \",(0,n.jsx)(e.code,{children:\"#SBATCH\"}),\" processing directive to pass in the parameters that we would have passed to \",(0,n.jsx)(e.code,{children:\"salloc\"}),\" before. We're also using \",(0,n.jsx)(e.code,{children:\"srun\"}),\" to run our actual job; it will handle running the script across multiple nodes, if we so desire.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Finally, to launch our script, we'll run:\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-bash\",children:`sbatch run.sh\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"Conclusion\"}),`\n`,(0,n.jsx)(e.p,{children:\"That's it! I hope this was helpful. If you have any questions, you can ask ChatGPT or Bard (they'll give either incredibly helpful or completely incorrect answers, but it's worth a shot!)\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"You can also look through the \",(0,n.jsx)(e.a,{href:\"https://slurm.schedmd.com/documentation.html\",children:\"Slurm documentation\"}),\" or the \",(0,n.jsx)(e.a,{href:\"https://leo.leung.xyz/wiki/Slurm\",children:\"Leo's notes\"}),\" page on Slurm for more information.\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"If you liked the article, don't forget to share it and follow me at \",(0,n.jsx)(e.a,{href:\"https://twitter.com/nebrelbug\",children:\"@nebrelbug\"}),\" on Twitter.\"]})})]})}function u(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(h,{...t})}):h(t)}return j(C);})();\n;return Component;"