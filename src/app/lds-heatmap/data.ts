// ── TYPES ─────────────────────────────────────────────────────

export interface TipData {
  name: string;
  m?: number;
  pv?: number;
  state?: boolean;
}

export interface RankedItem {
  n: string;
  m: number;
  p: number;
  pv: number;
}

// ── UTILS ─────────────────────────────────────────────────────

export const fmt = (n: number) =>
  n >= 1e6 ? (n / 1e6).toFixed(1) + "M" : n >= 1e3 ? Math.round(n / 1e3) + "K" : "" + n;

export const pct = (m: number, p: number) => (p ? (m / p) * 100 : 0);

// ── DATA ──────────────────────────────────────────────────────
// Countries keyed by ISO numeric ID → [members, population]

export const COUNTRIES: Record<string, [number, number]> = {
  "840": [6929956, 341814420],
  "484": [1534058, 130861007],
  "076": [1525436, 220353389],
  "608": [882461, 117337368],
  "604": [648045, 34352720],
  "152": [613054, 19629590],
  "032": [491160, 46654581],
  "320": [292639, 18530535],
  "218": [269200, 18190484],
  "566": [250341, 232679478],
  "068": [229006, 12388571],
  "170": [217514, 52085168],
  "124": [205907, 39858480],
  "340": [190310, 10593798],
  "826": [186418, 68459055],
  "862": [177309, 29432381],
  "036": [158969, 26713205],
  "214": [153000, 11332972],
  "180": [134067, 108407721],
  "222": [131016, 6364943],
  "392": [129622, 123294513],
  "554": [118209, 5213944],
  "288": [113470, 34121985],
  "858": [109905, 3423108],
  "558": [103732, 7046310],
  "600": [102395, 6861524],
  "882": [89662, 225681],
  "410": [88576, 51966948],
  "710": [74455, 60414495],
  "776": [68609, 104175],
  "724": [68486, 47615034],
  "384": [66399, 28873034],
  "591": [62946, 4468087],
  "158": [62772, 23894394],
  "188": [55678, 5212173],
  "620": [48840, 10247605],
  "716": [46071, 16665409],
  "598": [41268, 10329931],
  "276": [40398, 84482267],
  "250": [39797, 68170228],
  "694": [34617, 8791092],
  "508": [31633, 33897354],
  "380": [29154, 58761146],
  "332": [25793, 11724763],
  "800": [25210, 49885712],
  "242": [24358, 936375],
  "764": [24301, 71801279],
  "430": [23217, 5418377],
  "404": [21204, 56476442],
  "643": [18132, 144073139],
  "116": [17365, 17168639],
  "450": [17331, 30325732],
  "356": [15454, 1428627663],
  "178": [13691, 6106869],
  "548": [12820, 326740],
  "496": [12624, 3447157],
  "458": [11341, 34308525],
  "804": [9903, 37000000],
  "752": [9489, 10612086],
  "756": [9237, 8921981],
  "528": [9117, 17618299],
  "360": [7702, 277534122],
  "768": [7684, 8848699],
  "024": [7321, 36684202],
  "894": [7072, 20569737],
  "204": [7071, 13754688],
  "328": [7033, 808726],
  "388": [6871, 2820436],
  "056": [6713, 11913633],
  "454": [5937, 20931751],
  "084": [5688, 410825],
  "348": [5255, 9597085],
  "834": [5022, 67438106],
  "246": [4940, 5614571],
  "072": [4841, 2630296],
  "040": [4678, 9145025],
  "578": [4521, 5550203],
  "208": [4393, 5910913],
  "372": [4212, 5149139],
  "051": [3625, 2777970],
  "780": [3497, 1534937],
  "120": [3327, 28647293],
  "008": [3317, 2832439],
  "702": [3227, 5917600],
  "642": [3029, 19051562],
  "203": [2719, 10827529],
  "646": [2489, 14094683],
  "231": [2423, 126527060],
  "100": [2412, 6687717],
  "748": [2348, 1210822],
  "616": [2249, 36753736],
  "426": [1890, 2330318],
  "740": [1887, 623236],
  "144": [1709, 22156000],
  "090": [1627, 724273],
  "516": [1297, 2604172],
  "428": [1274, 1830211],
  "233": [1122, 1322765],
  "440": [952, 2718352],
  "300": [807, 10341277],
  "792": [698, 86023770],
  "191": [656, 3850894],
  "196": [634, 1260138],
  "442": [522, 672050],
  "498": [457, 2512758],
  "705": [456, 2119675],
  "352": [404, 393396],
  "688": [374, 6736515],
  "414": [361, 4310108],
  "703": [332, 5460721],
  "268": [313, 3728573],
  "376": [310, 9174520],
  "140": [281, 5742315],
  "048": [276, 1566888],
  "470": [263, 535064],
  "398": [242, 19606633],
  "070": [86, 3210847],
  "499": [34, 616177],
};

export const COUNTRY_NAMES: Record<string, string> = {
  "840": "United States",
  "484": "Mexico",
  "076": "Brazil",
  "608": "Philippines",
  "604": "Peru",
  "152": "Chile",
  "032": "Argentina",
  "320": "Guatemala",
  "218": "Ecuador",
  "566": "Nigeria",
  "068": "Bolivia",
  "170": "Colombia",
  "124": "Canada",
  "340": "Honduras",
  "826": "United Kingdom",
  "862": "Venezuela",
  "036": "Australia",
  "214": "Dominican Rep.",
  "180": "DR Congo",
  "222": "El Salvador",
  "392": "Japan",
  "554": "New Zealand",
  "288": "Ghana",
  "858": "Uruguay",
  "558": "Nicaragua",
  "600": "Paraguay",
  "882": "Samoa",
  "410": "South Korea",
  "710": "South Africa",
  "776": "Tonga",
  "724": "Spain",
  "384": "Cote d'Ivoire",
  "591": "Panama",
  "158": "Taiwan",
  "188": "Costa Rica",
  "620": "Portugal",
  "716": "Zimbabwe",
  "598": "Papua New Guinea",
  "276": "Germany",
  "250": "France",
  "694": "Sierra Leone",
  "508": "Mozambique",
  "380": "Italy",
  "332": "Haiti",
  "800": "Uganda",
  "242": "Fiji",
  "764": "Thailand",
  "430": "Liberia",
  "404": "Kenya",
  "643": "Russia",
  "116": "Cambodia",
  "450": "Madagascar",
  "356": "India",
  "178": "Rep. Congo",
  "548": "Vanuatu",
  "496": "Mongolia",
  "458": "Malaysia",
  "804": "Ukraine",
  "752": "Sweden",
  "756": "Switzerland",
  "528": "Netherlands",
  "360": "Indonesia",
  "768": "Togo",
  "024": "Angola",
  "894": "Zambia",
  "204": "Benin",
  "328": "Guyana",
  "388": "Jamaica",
  "056": "Belgium",
  "454": "Malawi",
  "084": "Belize",
  "348": "Hungary",
  "834": "Tanzania",
  "246": "Finland",
  "072": "Botswana",
  "040": "Austria",
  "578": "Norway",
  "208": "Denmark",
  "372": "Ireland",
  "051": "Armenia",
  "780": "Trinidad & Tobago",
  "120": "Cameroon",
  "008": "Albania",
  "702": "Singapore",
  "642": "Romania",
  "203": "Czechia",
  "646": "Rwanda",
  "231": "Ethiopia",
  "100": "Bulgaria",
  "748": "eSwatini",
  "616": "Poland",
  "426": "Lesotho",
  "740": "Suriname",
  "144": "Sri Lanka",
  "090": "Solomon Is.",
  "516": "Namibia",
  "428": "Latvia",
  "233": "Estonia",
  "440": "Lithuania",
  "300": "Greece",
  "792": "Turkey",
  "191": "Croatia",
  "196": "Cyprus",
  "442": "Luxembourg",
  "498": "Moldova",
  "705": "Slovenia",
  "352": "Iceland",
  "688": "Serbia",
  "414": "Kuwait",
  "703": "Slovakia",
  "268": "Georgia",
  "376": "Israel",
  "140": "Central African Rep.",
  "048": "Bahrain",
  "470": "Malta",
  "398": "Kazakhstan",
  "070": "Bosnia & Herz.",
  "499": "Montenegro",
};

// US States: [members, population]
export const US_STATES: Record<string, [number, number]> = {
  Utah: [2190610, 3417734],
  California: [728598, 38965193],
  Idaho: [476118, 1964726],
  Arizona: [442879, 7431344],
  Texas: [385600, 30503301],
  Washington: [281802, 7812880],
  Nevada: [182786, 3194176],
  Florida: [172918, 22610726],
  Oregon: [150170, 4233358],
  Colorado: [149186, 5877610],
  Virginia: [98786, 8631393],
  "North Carolina": [95875, 10835491],
  Georgia: [91142, 10912876],
  "New York": [87605, 19571216],
  Missouri: [80440, 6154913],
  Hawaii: [75635, 1435138],
  "New Mexico": [69432, 2114371],
  Wyoming: [67691, 576851],
  Ohio: [64595, 11785935],
  Tennessee: [59202, 7126489],
  Illinois: [57837, 12549689],
  Pennsylvania: [53025, 12961683],
  Oklahoma: [52844, 4019800],
  Montana: [52068, 1132812],
  Indiana: [47789, 6862199],
  Michigan: [46044, 10037261],
  "South Carolina": [45810, 5373555],
  Maryland: [44094, 6180253],
  Alabama: [40540, 5074296],
  Kansas: [39793, 2940546],
  Kentucky: [38535, 4526154],
  Arkansas: [36630, 3067732],
  "New Jersey": [35453, 9290841],
  Alaska: [33948, 733391],
  Minnesota: [33759, 5737915],
  Louisiana: [29913, 4573749],
  Iowa: [29285, 3207004],
  Massachusetts: [28667, 7001399],
  Wisconsin: [28430, 5893718],
  Nebraska: [25935, 1978379],
  Mississippi: [22297, 2939690],
  "West Virginia": [17557, 1770071],
  Connecticut: [16030, 3617176],
  "North Dakota": [11682, 783926],
  "South Dakota": [11601, 919318],
  Maine: [11233, 1395722],
  "New Hampshire": [8553, 1402054],
  Delaware: [5736, 1018396],
  "Rhode Island": [4796, 1095962],
  Vermont: [4624, 647464],
  "District of Columbia": [3215, 678972],
};

// Canadian provinces: [members (est.), population]
export const CA_PROVINCES: Record<string, [number, number]> = {
  Alberta: [84000, 4647178],
  Ontario: [42000, 15109416],
  "British Columbia": [33000, 5368523],
  Saskatchewan: [8200, 1214141],
  Quebec: [9200, 8751560],
  Manitoba: [4100, 1444190],
  "Nova Scotia": [5500, 1037782],
  "New Brunswick": [2500, 820786],
  Newfoundland: [1400, 533710],
  "Prince Edward Island": [600, 170688],
  Yukon: [300, 44238],
  "Northwest Territories": [200, 44895],
};

export const FIPS_TO_STATE: Record<string, string> = {
  "01": "Alabama",
  "02": "Alaska",
  "04": "Arizona",
  "05": "Arkansas",
  "06": "California",
  "08": "Colorado",
  "09": "Connecticut",
  "10": "Delaware",
  "11": "District of Columbia",
  "12": "Florida",
  "13": "Georgia",
  "15": "Hawaii",
  "16": "Idaho",
  "17": "Illinois",
  "18": "Indiana",
  "19": "Iowa",
  "20": "Kansas",
  "21": "Kentucky",
  "22": "Louisiana",
  "23": "Maine",
  "24": "Maryland",
  "25": "Massachusetts",
  "26": "Michigan",
  "27": "Minnesota",
  "28": "Mississippi",
  "29": "Missouri",
  "30": "Montana",
  "31": "Nebraska",
  "32": "Nevada",
  "33": "New Hampshire",
  "34": "New Jersey",
  "35": "New Mexico",
  "36": "New York",
  "37": "North Carolina",
  "38": "North Dakota",
  "39": "Ohio",
  "40": "Oklahoma",
  "41": "Oregon",
  "42": "Pennsylvania",
  "44": "Rhode Island",
  "45": "South Carolina",
  "46": "South Dakota",
  "47": "Tennessee",
  "48": "Texas",
  "49": "Utah",
  "50": "Vermont",
  "51": "Virginia",
  "53": "Washington",
  "54": "West Virginia",
  "55": "Wisconsin",
  "56": "Wyoming",
};
