---
title: "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ .md-URL –¥–ª—è –≤—ã–¥–∞—á–∏ —Å—ã—Ä–æ–≥–æ Markdown –≤ Next.js"
description: "–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å .md-URL –≤ –±–ª–æ–≥ –Ω–∞ Next.js, —á—Ç–æ–±—ã –æ—Ç–¥–∞–≤–∞—Ç—å —Å—ã—Ä–æ–π Markdown, –ø–æ –º–æ—Ç–∏–≤–∞–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Vercel."
date: "2025-06-14"
tags: [frontend]
---

> **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø–æ—Å—Ç–∞ [Guillermo Rauch](https://twitter.com/rauchg) (CEO Vercel) –ø—Ä–µ–¥–ª–æ–∂–∏–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è (rewrites) –≤ Next.js –≤–º–µ—Å—Ç–æ middleware –¥–ª—è —ç—Ç–æ–≥–æ —Å–ª—É—á–∞—è. –Ø –æ–±–Ω–æ–≤–∏–ª —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∏–∂–µ ‚Äî —Ç–∞–∫ –ø—Ä–æ—â–µ –∏ –±—ã—Å—Ç—Ä–µ–µ! üöÄ

## –ï—Å–ª–∏ –≤–∫—Ä–∞—Ç—Ü–µ

–í–¥–æ—Ö–Ω–æ–≤–∏–≤—à–∏—Å—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π Vercel, –º—ã –¥–æ–±–∞–≤–∏–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–ø–∏—Å—ã–≤–∞—Ç—å `.md` –∫ –ª—é–±–æ–º—É URL –ø–æ—Å—Ç–∞ –≤ –±–ª–æ–≥–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π markdown. –¢–æ –µ—Å—Ç—å `/posts/my-post` –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ `/posts/my-post.md`, –∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Å—ã—Ä–æ–π –∏—Å—Ö–æ–¥–Ω–∏–∫. –ù–µ–¥–∞–≤–Ω–æ —è –¥–æ–±–∞–≤–∏–ª —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –≤ —Å–≤–æ–π –±–ª–æ–≥ ‚Äî –æ–Ω–∞ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–±–º–µ–Ω–∞ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞ –∏–ª–∏ —á—Ç–æ–±—ã –ª—é–¥–∏ –º–æ–≥–ª–∏ —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –≤—ã —á—Ç–æ-—Ç–æ –Ω–∞–ø–∏—Å–∞–ª–∏.

[Rewrites](https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites) –≤ Next.js –¥–µ–ª–∞—é—Ç —Ç–∞–∫—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ–π.

<Tweet id="1930689104800518392" />

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pnpx create-next-app@latest raw-markdown-blog
cd raw-markdown-blog
pnpm install @content-collections/core @content-collections/mdx @content-collections/next zod
```

–í—ã–±–µ—Ä–∏—Ç–µ TypeScript, Tailwind CSS –∏ App Router.

–î–æ–±–∞–≤—å—Ç–µ `.content-collections` –≤ —Ñ–∞–π–ª `.gitignore`:

```
.content-collections
```


## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Content Collections

[Content Collections](https://www.content-collections.dev/) ‚Äî –æ—Ç–ª–∏—á–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –≤ Next.js: —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è, –±—ã—Å—Ç—Ä–∞—è –∏ —Å –æ—Ç–ª–∏—á–Ω—ã–º DX.

–°–æ–∑–¥–∞–π—Ç–µ `content-collections.ts` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–µ –≤ src/):

```typescript
import { defineCollection, defineConfig } from "@content-collections/core";
import { compileMDX } from "@content-collections/mdx";
import { z } from "zod";

const posts = defineCollection({
  name: "posts",
  directory: "content",
  include: "**/*.mdx",
  schema: z.object({
    title: z.string(),
    description: z.string(),
    date: z.string().pipe(z.coerce.date()),
  }),
  transform: async (document, context) => {
    const mdx = await compileMDX(context, document);
    const slug = document._meta.path.replace(/\.mdx$/, "");

    return {
      ...document,
      mdx,
      slug,
      url: `/posts/${slug}`,
    };
  },
});

export default defineConfig({
  collections: [posts],
});
```

–û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `next.config.js`:

```javascript
const { withContentCollections } = require("@content-collections/next");

/** @type {import('next').NextConfig} */
const nextConfig = {
  // –≤–∞—à–∞ —Ç–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è...
};

module.exports = withContentCollections(nextConfig);
```

–û–±–Ω–æ–≤–∏—Ç–µ –ø—É—Ç–∏ –≤ —Ñ–∞–π–ª–µ `tsconfig.json`:

```json
{
  "compilerOptions": {
    // ... –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    "paths": {
      "@/*": ["./src/*"],
      "content-collections": ["./.content-collections/generated"]
    }
  }
}
```


## –ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ

–°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ `content/` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª `content/hello-world.mdx`:

````markdown
---
title: "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä"
description: "–ú–æ–π –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç –≤ –±–ª–æ–≥–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π raw markdown."
date: "2024-12-20"
---

## –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å

–≠—Ç–æ –º–æ–π –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç –≤ –±–ª–æ–≥–µ! –í–æ—Ç –Ω–µ–º–Ω–æ–≥–æ **–∂–∏—Ä–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞** –∏ –±–ª–æ–∫ –∫–æ–¥–∞:

```javascript
console.log("–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!");
```

–î–æ–≤–æ–ª—å–Ω–æ –∫—Ä—É—Ç–æ, –ø—Ä–∞–≤–¥–∞?
````


## –°—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–ø–∏—Å–µ–π

–ó–∞–º–µ–Ω–∏—Ç–µ `app/page.tsx`:

```tsx
import { allPosts } from "content-collections";
import Link from "next/link";

export default function Home() {
  const sortedPosts = allPosts.sort(
    (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()
  );

  return (
    <div className="max-w-2xl mx-auto p-8">
      <h1 className="text-3xl font-bold mb-8">–ú–æ–π –±–ª–æ–≥</h1>
      <div className="space-y-6">
        {sortedPosts.map((post) => (
          <article key={post.slug} className="border-b pb-4">
            <Link
              href={post.url}
              className="text-xl font-semibold hover:text-blue-600"
            >
              {post.title}
            </Link>
            <p className="text-gray-600 mt-2">{post.description}</p>
            <time className="text-sm text-gray-500">
              {post.date.toLocaleDateString()}
            </time>
            <div className="mt-2 text-sm">
              <Link
                href={`${post.url}.md`}
                className="text-blue-500 hover:underline"
              >
                –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ markdown
              </Link>
            </div>
          </article>
        ))}
      </div>
    </div>
  );
}
```

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `app/posts/[slug]/page.tsx`:

```tsx
import { allPosts } from "content-collections";
import { MDXContent } from "@content-collections/mdx/react";
import { notFound } from "next/navigation";
import Link from "next/link";

export default async function PostPage({
  params,
}: {
  params: Promise<{ slug: string }>;
}) {
  const { slug } = await params;
  const post = allPosts.find((p) => p.slug === slug);

  if (!post) notFound();

  return (
    <div className="max-w-2xl mx-auto p-8">
      <Link
        href="/"
        className="text-blue-600 hover:underline mb-4 inline-block"
      >
        ‚Üê –ù–∞–∑–∞–¥ –∫ –∑–∞–ø–∏—Å—è–º
      </Link>

      <article>
        <header className="mb-8">
          <h1 className="text-3xl font-bold mb-2">{post.title}</h1>
          <p className="text-gray-600 mb-2">{post.description}</p>
          <time className="text-sm text-gray-500">
            {post.date.toLocaleDateString()}
          </time>
          <div className="mt-4">
            <Link
              href={`${post.url}.md`}
              className="text-blue-500 hover:underline text-sm"
            >
              –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π markdown
            </Link>
          </div>
        </header>

        <div className="prose prose-lg max-w-none">
          <MDXContent code={post.mdx} />
        </div>
      </article>
    </div>
  );
}

export function generateStaticParams() {
  return allPosts.map((post) => ({ slug: post.slug }));
}
```


## –ú–∞–≥–∏—è: Rewrites

–í–æ—Ç –≥–¥–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è –≤ Next.js —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤–æ –≤—Å–µ–π –∫—Ä–∞—Å–µ ‚Äî –º—ã –º–æ–∂–µ–º –∏–∑—è—â–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å URL –≤—Å–µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

–û–±–Ω–æ–≤–∏—Ç–µ `next.config.js`, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è:

```javascript
const { withContentCollections } = require("@content-collections/next");

/** @type {import('next').NextConfig} */
const nextConfig = {
  async rewrites() {
    return [
      {
        source: "/posts/:slug.md",
        destination: "/api/posts/:slug/raw",
      },
    ];
  },
};

module.exports = withContentCollections(nextConfig);
```

–ü—Ä–∞–≤–∏–ª–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å –≤–∏–¥–∞ `/posts/:slug.md` –Ω–∞ `/api/posts/:slug/raw`. –ü–∞—Ä–∞–º–µ—Ç—Ä `:slug` –±–µ—Ä—ë—Ç—Å—è –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ URL –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é. –í –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç `/posts/hello-world.md`, –Ω–æ Next.js –æ—Ç–¥–∞—ë—Ç –µ–≥–æ —Å `/api/posts/hello-world/raw`.


## –ú–∞—Ä—à—Ä—É—Ç API –¥–ª—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ

–°–æ–∑–¥–∞–π—Ç–µ `app/api/posts/[slug]/raw/route.ts`:

```typescript
import { allPosts } from "content-collections";
import { NextRequest, NextResponse } from "next/server";

export async function GET(
  request: NextRequest,
  { params }: { params: Promise<{ slug: string }> }
) {
  const { slug } = await params;
  const post = allPosts.find((p) => p.slug === slug);

  if (!post) {
    return new NextResponse("–ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞", { status: 404 });
  }

  return new NextResponse(post.content, {
    headers: {
      "Content-Type": "text/markdown; charset=utf-8",
      "Cache-Control": "public, max-age=3600", // –ö—ç—à –Ω–∞ 1 —á–∞—Å
    },
  });
}

export function generateStaticParams() {
  return allPosts.map((post) => ({ slug: post.slug }));
}
```


## –ì–æ—Ç–æ–≤–æ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ dev‚Äë—Å–µ—Ä–≤–µ—Ä –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ–±–∞ URL:

- `/posts/hello-world` ‚Äî –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–Ω—ã–π MDX —Å–æ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–µ–π –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- `/posts/hello-world.md` ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown

–ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç, —á—Ç–æ –∏—Å—Ö–æ–¥–Ω—ã–π Markdown –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —á–∞—Å, —Å–Ω–∏–∂–∞—è –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤. –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –∫ –ø–æ—Å—Ç–∞–º –∫–Ω–æ–ø–∫—É ¬´View raw¬ª (–∫–∞–∫ —è —Å–¥–µ–ª–∞–ª –≤ —Å–≤–æ—ë–º –±–ª–æ–≥–µ), –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –≤ —Å–ø–∏—Å–∫–µ –ø–æ—Å—Ç–æ–≤.

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–±–º–µ–Ω–∞ –ø—Ä–∏–º–µ—Ä–∞–º–∏, –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–ª–∏ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –¥—Ä—É–≥–∏–µ –º–æ–≥–ª–∏ –∏–∑—É—á–∞—Ç—å –≤–∞—à–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≤ Markdown. –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è Next.js –¥–µ–ª–∞—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∞–∫–∫—É—Ä–∞—Ç–Ω–æ–π –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–π ‚Äî –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.